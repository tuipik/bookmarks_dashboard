<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Start Dashboard</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <div id="bg" aria-hidden="true"></div>

    <header>
      <div class = 'header-flex'>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M11 11V4h11v7zm-9 9v-7h10v7zm0-9V4h7v7zm11-2h7V6h-7zm-9 9h6v-3H4zm0-9h3V6H4zm13 13l-.3-1.5q-.3-.125-.562-.262T15.6 19.9l-1.45.45l-1-1.7l1.15-1q-.05-.325-.05-.65t.05-.65l-1.15-1l1-1.7l1.45.45q.275-.2.538-.337t.562-.263L17 12h2l.3 1.5q.3.125.563.263t.537.337l1.45-.45l1 1.7l-1.15 1q.05.325.05.65t-.05.65l1.15 1l-1 1.7l-1.45-.45q-.275.2-.537.338t-.563.262L19 22zm2.413-3.588Q20 17.826 20 17t-.587-1.412T18 15t-1.412.588T16 17t.588 1.413T18 19t1.413-.587"
          />
        </svg>
        <h1 id="dashboardTitle">Start Dashboard</h1>
      </div>
      <div class="header-actions">
        <button id="openSettings" type="button">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zm2.8-6.5q1.45 0 2.475-1.025T15.55 12t-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12t1.013 2.475T12.05 15.5"
            />
          </svg>
          Settings
        </button>
      </div>
    </header>

    <main id="board"></main>

    <!-- Modal for add/edit card -->
    <div
      id="modal"
      class="hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="modalTitle"
    >
      <div class="modal-backdrop" id="modalClose"></div>
      <div class="modal-window">
        <div class="modal-header">
          <h3 id="modalTitle">Card</h3>
          <button
            type="button"
            class="modal-close-btn"
            id="modalCloseBtn"
            aria-label="Close"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"
              />
            </svg>
          </button>
        </div>

        <form id="modalForm">
          <input type="hidden" name="id" />

          <label>
            Title *
            <input name="title" required placeholder="Enter card title" />
          </label>

          <label>
            Link
            <input name="link" type="url" placeholder="https://example.com" />
          </label>

          <label>
            Description
            <textarea
              name="description"
              rows="3"
              placeholder="Add description (optional)"
            ></textarea>
          </label>

          <label>
            Column *
            <select name="column_id" required></select>
          </label>

          <label>
            Icon
            <input
              type="url"
              name="icon"
              placeholder="https://example.com/icon.svg"
            />
            <small class="field-hint">
              Browse icons:
              <a
                href="https://dashboardicons.com/"
                target="_blank"
                rel="noopener noreferrer"
                >dashboardicons.com</a
              >
            </small>
            <div id="iconPreview"></div>
          </label>

          <div class="modal-actions">
            <button type="submit" id="saveBtn">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M21 7v12q0 .825-.587 1.413T19 21H5q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h12zm-6.875 10.125Q15 16.25 15 15t-.875-2.125T12 12t-2.125.875T9 15t.875 2.125T12 18t2.125-.875M6 10h9V6H6z"
                />
              </svg>
              Save
            </button>
            <button type="button" id="deleteBtn" class="danger">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"
                />
              </svg>
              Delete
            </button>
            <button
              type="button"
              id="cancelBtn"
              style="background: rgba(255, 255, 255, 0.1); color: var(--text)"
            >
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Settings modal -->
    <div
      id="settingsModal"
      class="hidden"
      role="dialog"
      aria-modal="true"
      aria-label="Settings"
    >
      <div class="modal-backdrop" id="settingsClose"></div>
      <div class="modal-window">
        <div class="modal-header">
          <h3>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zm2.8-6.5q1.45 0 2.475-1.025T15.55 12t-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12t1.013 2.475T12.05 15.5"
              />
            </svg>
            Dashboard Settings
          </h3>
          <button
            type="button"
            class="modal-close-btn"
            id="settingsCloseBtn"
            aria-label="Close"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"
              />
            </svg>
          </button>
        </div>

        <div class="tabs-header">
          <button class="tab-btn active" data-tab="layout" type="button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="M3 21q-.825 0-1.412-.587T1 19v-2q0-.825.588-1.412T3 15h6q.825 0 1.413.588T11 17v2q0 .825-.587 1.413T9 21zm12 0q-.825 0-1.412-.587T13 19V5q0-.825.588-1.412T15 3h6q.825 0 1.413.588T23 5v14q0 .825-.587 1.413T21 21zM3 19h6v-2H3zm12 0h6V5h-6zm3-1q.425 0 .713-.288T19 17t-.288-.712T18 16t-.712.288T17 17t.288.713T18 18M3 13q-.825 0-1.412-.587T1 11V5q0-.825.588-1.412T3 3h6q.825 0 1.413.588T11 5v6q0 .825-.587 1.413T9 13zm4-5q.425 0 .713-.288T8 7t-.288-.712T7 6t-.712.288T6 7t.288.713T7 8m-4 2.675L5 8l2.25 3H9V5H3zM6 8"
              />
            </svg>
            Layout
          </button>
          <button class="tab-btn" data-tab="columns" type="button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="M20 19V5h-6v14zM4 21v-4h2v2h6V5H6v2H4V3h18v18zm10-9h-2zM4 15v-2H2v-2h2V9h2v2h2v2H6v2z"
              />
            </svg>
            Columns
          </button>
          <button class="tab-btn" data-tab="cards" type="button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="M13 14h2v-3h3V9h-3V6h-2v3h-3v2h3zm-5 4q-.825 0-1.412-.587T6 16V4q0-.825.588-1.412T8 2h12q.825 0 1.413.588T22 4v12q0 .825-.587 1.413T20 18zm0-2h12V4H8zm-4 6q-.825 0-1.412-.587T2 20V6h2v14h14v2zM8 4v12z"
              />
            </svg>
            Cards
          </button>
        </div>

        <!-- Layout tab -->
        <div id="layout-tab" class="tab-content active">
          <form id="settingsLayout">
            <label>
              Dashboard title
              <input
                type="text"
                name="dashboard_title"
                value="Start Dashboard"
                placeholder="My Dashboard"
              />
            </label>

            <label>
              Upload background image
              <input type="file" id="dashboard_bg_file" accept="image/*" />
              <small class="field-hint">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  style="
                    display: inline-block;
                    vertical-align: middle;
                    margin-right: 4px;
                  "
                >
                  <path
                    fill="currentColor"
                    d="M12 16q.425 0 .713-.288T13 15v-4.025l1.3 1.3q.275.275.7.275t.7-.275t.275-.7t-.275-.7l-2.6-2.6q-.3-.3-.7-.3t-.7.3l-2.6 2.6q-.275.275-.275.7t.275.7t.7.275t.7-.275l1.3-1.3V15q0 .425.288.713T12 16m-6 5q-.825 0-1.412-.587T4 19V5q0-.825.588-1.412T6 3h8l6 6v10q0 .825-.587 1.413T18 21zm7-13V4H6v15h12V9h-4z"
                  />
                </svg>
                Recommended: High-resolution images (1920x1080 or larger)
              </small>
            </label>

            <div class="settings-inline-actions">
              <button type="button" id="resetBgBtn">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                >
                  <path
                    fill="currentColor"
                    d="M12 21q-3.45 0-6.012-2.287T3.05 13H5.1q.35 2.6 2.313 4.3T12 19q2.925 0 4.963-2.037T19 12t-2.037-4.962T12 5q-1.725 0-3.225.8T6.25 8H9v2H3V4h2v2.35q1.275-1.6 3.113-2.475T12 3q1.875 0 3.513.713t2.85 1.924t1.925 2.85T21 12t-.712 3.513t-1.925 2.85t-2.85 1.925T12 21m2.8-4.8L11 12.4V7h2v4.6l3.2 3.2z"
                  />
                </svg>
                Reset background
              </button>
            </div>

            <label>
              Columns per row
              <input
                type="number"
                name="cols_per_row"
                min="1"
                max="10"
                value="3"
              />
              <small class="field-hint"
                >Number of columns displayed in each row</small
              >
            </label>

            <label>
              Column width (px)
              <input
                type="number"
                name="column_width"
                min="200"
                max="600"
                value="320"
              />
            </label>

            <label>
              Card height (px)
              <input
                type="number"
                name="card_height"
                min="0"
                value="100"
                placeholder="0 = auto height"
              />
              <small class="field-hint">Set to 0 for automatic height</small>
            </label>

            <label>
              Column background color
              <input
                type="color"
                name="column_bg_color"
                id="column_bg_color"
                value="#ffffff"
              />
            </label>

            <label>
              Column opacity
              <input
                type="range"
                id="column_bg_opacity"
                name="column_bg_opacity"
                min="0"
                max="100"
                step="1"
                value="8"
              />
              <span id="column_bg_opacity_val">8%</span>
              <small class="field-hint"
                >Lower values = more transparent (glassmorphism effect)</small
              >
            </label>

            <label>
              Card background color
              <input
                type="color"
                name="card_bg_color"
                id="card_bg_color"
                value="#ffffff"
              />
            </label>

            <label>
              Card opacity
              <input
                type="range"
                id="card_bg_opacity"
                name="card_bg_opacity"
                min="0"
                max="100"
                step="1"
                value="6"
              />
              <span id="card_bg_opacity_val">6%</span>
              <small class="field-hint"
                >Lower values = more transparent (glassmorphism effect)</small
              >
            </label>

            <button type="submit">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M21 7v12q0 .825-.587 1.413T19 21H5q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h12zm-6.875 10.125Q15 16.25 15 15t-.875-2.125T12 12t-2.125.875T9 15t.875 2.125T12 18t2.125-.875M6 10h9V6H6z"
                />
              </svg>
              Save Layout
            </button>
          </form>
        </div>

        <!-- Columns tab -->
        <div id="columns-tab" class="tab-content">
          <div id="columnsList"></div>

          <form id="settingsAddCol">
            <label>
              New column name
              <input
                name="name"
                required
                placeholder="e.g., Social Media, Tools, etc."
              />
            </label>
            <button type="submit">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M11 21v-8H3v-2h8V3h2v8h8v2h-8v8z"
                />
              </svg>
              Add column
            </button>
          </form>
        </div>

        <!-- Cards tab -->
        <div id="cards-tab" class="tab-content">
          <h4>Add new card</h4>
          <form id="tabCardForm">
            <input type="hidden" name="id" />

            <label>
              Title *
              <input name="title" required placeholder="Enter card title" />
            </label>

            <label>
              Link
              <input name="link" type="url" placeholder="https://example.com" />
            </label>

            <label>
              Description
              <textarea
                name="description"
                rows="3"
                placeholder="Add description (optional)"
              ></textarea>
            </label>

            <label>
              Icon (URL)
              <input
                type="url"
                name="icon"
                placeholder="https://example.com/icon.svg"
              />
              <small class="field-hint">
                Browse icons:
                <a
                  href="https://dashboardicons.com/"
                  target="_blank"
                  rel="noopener noreferrer"
                  >dashboardicons.com</a
                >
              </small>
            </label>

            <label>
              Column *
              <select name="column_id" required></select>
            </label>

            <button type="submit">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M11 21v-8H3v-2h8V3h2v8h8v2h-8v8z"
                />
              </svg>
              Add card
            </button>
            <button
              type="button"
              id="resetTabCardForm"
              class="is-hidden"
              style="background: rgba(255, 255, 255, 0.1); color: var(--text)"
            >
              Cancel
            </button>
          </form>
        </div>
      </div>
    </div>

    <script type="module" src="/static/app.js"></script>
  </body>
</html>
